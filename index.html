<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #ff7e5f, #feb47b, #ffcc00, #f4d03f);
            text-align: center;
            color: white;
        }
        h1 {
            font-size: 36px;
            margin-top: 20px;
        }
        .button {
            background: linear-gradient(to top right, #6a4e23, #bc8a4f);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        .button:hover {
            background: linear-gradient(to top right, #bc8a4f, #6a4e23);
        }
        .input-section, .result-section {
            margin-top: 20px;
        }
        .input-section input {
            padding: 10px;
            font-size: 20px;
            width: 100px;
            text-align: center;
        }
        .emoji {
            font-size: 30px;
        }
        .meaning {
            font-size: 20px;
            margin-top: 20px;
            color: yellow;
        }
        .calc-detail {
            font-size: 18px;
            color: #f0e68c;
            text-align: left;
            margin-top: 20px;
        }
        /* Fullscreen result section */
        #resultModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
        }
        #resultModalContent {
            background: white;
            color: black;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 80%;
            text-align: left;
        }
        #closeBtn {
            background: red;
            color: white;
            padding: 10px 20px;
            border: none;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ üöó</h1>

    <div class="input-section">
        <input type="text" id="regNum" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô" maxlength="4">
        <br><br>
        <button class="button" onclick="generateRandomNumber()">‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•</button>
    </div>

    <div class="result-section">
        <button class="button" onclick="calculateLuckyNumber()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•</button>
    </div>

    <!-- Fullscreen Modal for displaying results -->
    <div id="resultModal">
        <div id="resultModalContent">
            <div id="result"></div>
            <div id="meaning" class="meaning"></div>
            <div id="calcDetail" class="calc-detail"></div>
            <button id="closeBtn" onclick="closeModal()">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>

    <script>
        // Function to generate a random lucky number
        function generateRandomNumber() {
            const randomNumber = Math.floor(Math.random() * 10000); // Generate a number between 0 and 9999
            document.getElementById('regNum').value = randomNumber;
        }

        // Function to calculate lucky number based on the rules
        function calculateLuckyNumber() {
            const regNum = document.getElementById('regNum').value;
            if (regNum.length < 1 || regNum.length > 4) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ");
                return;
            }

            let digits = regNum.split("").map(Number); // Convert the input to an array of digits
            let calcResult = 0;
            let calcDetail = '';
            let luckyMeaning = '';

            // Method 1: Calculation
            let sum = 0;

            // Add front digits
            let frontSum = sumDigits(digits[0]);
            sum += frontSum;
            calcDetail += `‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤: ${digits[0]} + 0 = ${frontSum} <br>`;

            // Add back digits
            let backSum = sumDigits(digits[digits.length - 1]);
            sum += backSum;
            calcDetail += `‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏´‡∏•‡∏±‡∏á: ${digits[digits.length - 1]} + 0 = ${backSum} <br>`;

            // Add middle digits if any
            if (digits.length > 2) {
                let middleSum = sumDigits(digits[1]);
                sum += middleSum;
                calcDetail += `‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á: ${digits[1]} + 0 = ${middleSum} <br>`;
            }

            // Final sum for Method 1
            let method1Result = sumDigits(sum);
            calcDetail += `‡∏ú‡∏•‡∏£‡∏ß‡∏° (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1): ${sum} -> ${method1Result} <br>`;
            luckyMeaning = getMeaning(method1Result);

            // Method 2: Calculation
            sum = 0; // Reset sum for Method 2

            // Add front digits
            frontSum = sumDigits(digits[0]);
            sum += frontSum;
            calcDetail += `‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤: ${digits[0]} + 0 = ${frontSum} <br>`;

            // Add back digits
            backSum = sumDigits(digits[digits.length - 1]);
            sum += backSum;
            calcDetail += `‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏´‡∏•‡∏±‡∏á: ${digits[digits.length - 1]} + 0 = ${backSum} <br>`;

            // Final sum for Method 2
            let method2Result = sumDigits(sum);
            calcDetail += `‡∏ú‡∏•‡∏£‡∏ß‡∏° (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2): ${sum} -> ${method2Result} <br>`;
            luckyMeaning += `<br><b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 2: </b>${getMeaning(method2Result)}`;

            // Display results in the modal
            document.getElementById('result').innerHTML = `‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏• (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1): ${method1Result}<br>‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏• (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2): ${method2Result}`;
            document.getElementById('meaning').innerHTML = `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢: ${luckyMeaning}`;
            document.getElementById('calcDetail').innerHTML = `‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: <br>${calcDetail}`;

            // Show modal
            document.getElementById('resultModal').style.display = 'flex';
        }

        // Function to sum the digits of a number and apply the rule to get a result < 10
        function sumDigits(num) {
            if (num > 9) {
                return num - 9; // Recalculate if the result is greater than 9
            }
            return num;
        }

        // Function to get the meaning of the lucky number
        function getMeaning(num) {
            const meanings = {
                1: "‡πÄ‡∏•‡∏Ç 1 ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",
                2: "‡πÄ‡∏•‡∏Ç 2 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏£‡πà‡∏ß‡∏°‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏î‡∏∏‡∏•",
                3: "‡πÄ‡∏•‡∏Ç 3 ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç",
                4: "‡πÄ‡∏•‡∏Ç 4 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á",
                5: "‡πÄ‡∏•‡∏Ç 5 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤",
                6: "‡πÄ‡∏•‡∏Ç 6 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏µ",
                7: "‡πÄ‡∏•‡∏Ç 7 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÜ",
                8: "‡πÄ‡∏•‡∏Ç 8 ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏£‡∏∏‡πà‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á",
                9: "‡πÄ‡∏•‡∏Ç 9 ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"
            };
            return meanings[num] || "‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏£‡∏∏‡πà‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á";
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
        }
    </script>
</body>
</html>
